<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="-A" type="text/css" />
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#babel的使用">babel的使用</a><ul>
<li><a href="#babel的介绍">1. babel的介绍</a></li>
<li><a href="#babel命令行的具体使用">2. <code>babel</code>命令行的具体使用</a></li>
<li><a href="#项目根目录新建.babelrc文件里面放入配置文件">3. 项目根目录新建<code>.babelrc</code>文件，里面放入配置文件</a></li>
<li><a href="#在package.json里面的scripts里面配置运行脚本然后通过npm-run-命令去执行可以节省代码的书写量">4. 在<code>package.json</code>里面的<code>scripts</code>里面配置运行脚本然后通过<code>npm run + 命令</code>去执行(可以节省代码的书写量)</a></li>
<li><a href="#babel在项目里面一般不是单独去用的因为项目里面还有less文件的编译所以一般配合gulp或者webpack去使用">5. <code>babel</code>在项目里面一般不是单独去用的，因为项目里面还有<code>less</code>文件的编译，所以一般配合<code>gulp</code>或者<code>webpack</code>去使用</a></li>
</ul></li>
</ul>
</div>
<h1 id="babel的使用">babel的使用</h1>
<h2 id="babel的介绍">1. babel的介绍</h2>
<ol style="list-style-type: decimal">
<li><a href="http://babeljs.io/" style="color:red">babel是什么</a></li>
<li>babel是javascript的编译器，代码到代码的编译(es6/es7编译成es5)</li>
</ol>
<h2 id="babel命令行的具体使用">2. <code>babel</code>命令行的具体使用</h2>
<ol style="list-style-type: decimal">
<li>安装babel的终端 <code>npm install babel-cli --global</code></li>
<li>如果项目中使用建议安装在项目里面<code>npm install babel-cli --save-dev</code></li>
<li><code>babel src.js -o(--out-file) build.js</code> 把src.js文件编译到build.js文件里面</li>
<li><code>babel src -d (--out-dir) build</code> 把src目录下面的所有的文件编译到build目录下面</li>
<li>更多的命令通过<code>babel --help</code>查看</li>
</ol>
<h2 id="项目根目录新建.babelrc文件里面放入配置文件">3. 项目根目录新建<code>.babelrc</code>文件，里面放入配置文件</h2>
<ol style="list-style-type: decimal">
<li>预设presets是一些插件的组合，比如<code>babel-preset-2015</code></li>
<li>如果需要支持es6语法的话，先安装<code>npm install babel-preset-2015 --save-dev</code> 然后在<code>presets</code>添加<code>es2015</code></li>
<li>plugins插件,babel6.0以上做了调整，bable都是通过plugin来编译代码的</li>
</ol>
<pre>
{
    "presets":["es2015","react"],
    "plugins": ["transform-es2015-arrow-functions"]
}
</pre>
<h2 id="在package.json里面的scripts里面配置运行脚本然后通过npm-run-命令去执行可以节省代码的书写量">4. 在<code>package.json</code>里面的<code>scripts</code>里面配置运行脚本然后通过<code>npm run + 命令</code>去执行(可以节省代码的书写量)</h2>
<pre>
 "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "build": "./node_modules/.bin/babel  src -wd build",
    "dev": "./node_modules/.bin/gulp"
  }
</pre>
<h2 id="babel在项目里面一般不是单独去用的因为项目里面还有less文件的编译所以一般配合gulp或者webpack去使用">5. <code>babel</code>在项目里面一般不是单独去用的，因为项目里面还有<code>less</code>文件的编译，所以一般配合<code>gulp</code>或者<code>webpack</code>去使用</h2>
<h4 id="babelgulp的使用"><code>babel+gulp</code>的使用</h4>
<ol style="list-style-type: decimal">
<li>需要在根目录下面新建gulpfile.js文件</li>
<li><code>npm install gulp gulp-babel --save</code>安装gulp和gulp-babel</li>
<li>gulp-babel就是babel的核心代码，它会去根目录查找.babelrc配置文件,如果没有这个配置文件的话，我们在调用的时候就要传入相应的预设或者插件</li>
<li>在package.json文件scripts里面配置<code>&quot;dev:./node_modules/.bin/gulp&quot;</code>,运行<code>npm run dev</code></li>
</ol>
<pre>
var gulp = require('gulp');
var babel = require('gulp-babel');

gulp.task('babel', function(){
    gulp.src('src/*.js')
    .pipe(babel())
    .pipe(gulp.dest('build'))
})

gulp.task('default', ['babel']);
</pre>
</body>
</html>
